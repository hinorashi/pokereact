{"version":3,"sources":["utils/ga.js","ui/pokemon/cmp-pokemon.js","ui/search/cmp-search.js","ui/page/cmp-page.js","ui/page/cnt-page.js","actions/pokemons.js","reducers/pokemons.js","reducers/index.js","index.js","store/configure-store.js"],"names":["ReactGA","initialize","Pokemon","pokemon","this","props","react_default","a","createElement","className","type","onClick","ga","event","category","action","label","id","style","backgroundImage","concat","name","PureComponent","Search","_ref","onChange","value","placeholder","autoFocus","Page","state","searchString","pokemonsIds","error","handleSearch","currentTarget","toLowerCase","trim","collection","_this","hardtack","set","maxAge","setState","Object","keys","filter","pokemonId","includes","_this2","getPokemons","then","payload","message","get","pageview","_this$state","_this$props","isFetched","pokemons","map","key","cmp_pokemon","cmp_search","Component","mapDispatchToProps","options","arguments","length","undefined","dispatch","_options$limit","limit","defineProperty","RSAA","endpoint","method","types","connect","initialState","combineReducers","objectSpread","results","reduce","accumulator","item","url","substring","store","middlewares","thunkMiddleware","apiMiddleware","composeEnhancers","compose","createStore","rootReducer","applyMiddleware","apply","configureStore","render","es","cnt_page","document","getElementById"],"mappings":"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","file":"static/js/main.1f71a93a.chunk.js","sourcesContent":["import ReactGA from 'react-ga'\r\n\r\nReactGA.initialize('UA-112044218-9')\r\n\r\nexport default ReactGA\r\n","import React, { PureComponent } from 'react'\r\nimport ga from '../../utils/ga'\r\n\r\nclass Pokemon extends PureComponent {\r\n  render() {\r\n    const { pokemon } = this.props\r\n\r\n    return (\r\n      <div className=\"pokemon\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"pokemon__sprite\"\r\n          onClick={() => {\r\n            ga.event({\r\n              category: 'pokemon',\r\n              action: 'click',\r\n              label: pokemon.id\r\n            })\r\n          }}\r\n          style={{\r\n            backgroundImage: `url(${`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${\r\n              pokemon.id\r\n            }.png`})`\r\n          }}\r\n        />\r\n        <p className=\"pokemon__name\">{pokemon.name}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pokemon\r\n","import React from 'react'\r\n\r\nconst Search = ({ onChange, value }) => (\r\n  <input\r\n    type=\"text\"\r\n    onChange={onChange}\r\n    value={value}\r\n    placeholder=\"Enter pokemon name...\"\r\n    autoFocus\r\n  />\r\n)\r\n\r\nexport default Search\r\n","import React, { Component } from 'react'\r\nimport hardtack from 'hardtack'\r\nimport Pokemon from '../pokemon/cmp-pokemon'\r\nimport Search from '../search/cmp-search'\r\nimport ga from '../../utils/ga'\r\n\r\nclass Page extends Component {\r\n  state = {\r\n    searchString: '',\r\n    pokemonsIds: [],\r\n    error: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getPokemons().then(action => {\r\n      if (action.error) {\r\n        return this.setState({\r\n          error: action.payload.message\r\n        })\r\n      }\r\n\r\n      const searchString = hardtack.get('searchString')\r\n      const { collection } = this.props\r\n\r\n      if (!searchString) {\r\n        return this.setState({\r\n          pokemonsIds: Object.keys(collection)\r\n        })\r\n      }\r\n\r\n      const pokemonsIds = Object.keys(collection).filter(pokemonId => {\r\n        const pokemon = collection[pokemonId]\r\n\r\n        return pokemon.name.includes(searchString)\r\n      })\r\n\r\n      this.setState({\r\n        pokemonsIds,\r\n        searchString\r\n      })\r\n    })\r\n\r\n    ga.pageview('/')\r\n  }\r\n\r\n  handleSearch = event => {\r\n    const value = event.currentTarget.value.toLowerCase().trim()\r\n    const { collection } = this.props\r\n\r\n    hardtack.set('searchString', value, {\r\n      maxAge: '31536000'\r\n    })\r\n\r\n    if (value === '') {\r\n      return this.setState({\r\n        pokemonsIds: Object.keys(collection),\r\n        searchString: value\r\n      })\r\n    }\r\n\r\n    const pokemonsIds = Object.keys(collection).filter(pokemonId => {\r\n      const pokemon = collection[pokemonId]\r\n\r\n      return pokemon.name.includes(value)\r\n    })\r\n\r\n    this.setState({\r\n      pokemonsIds,\r\n      searchString: value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { searchString, pokemonsIds, error } = this.state\r\n    const { collection, isFetched } = this.props\r\n\r\n    const pokemons = pokemonsIds.map(pokemonId => {\r\n      const pokemon = collection[pokemonId]\r\n\r\n      return (\r\n        <li className=\"pokemons__item\" key={pokemon.id}>\r\n          <Pokemon pokemon={pokemon} />\r\n        </li>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div className=\"page\">\r\n        {error && <div className=\"page__error\">{error}</div>}\r\n        <div className=\"page__search\">\r\n          <Search onChange={this.handleSearch} value={searchString} />\r\n        </div>\r\n        {isFetched ? (\r\n          <p>Loading...</p>\r\n        ) : (\r\n          <ul className=\"pokemons\">{pokemons}</ul>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Page\r\n","import { connect } from 'react-redux'\r\nimport { getPokemons } from '../../actions/pokemons'\r\nimport Page from './cmp-page'\r\n\r\nfunction mapStateToProps(state) {\r\n  const { collection } = state.pokemons\r\n\r\n  return {\r\n    collection\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getPokemons\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Page)\r\n","import { RSAA } from 'redux-api-middleware'\r\n\r\nexport const GET_POKEMONS_REQUEST = 'GET_POKEMONS_REQUEST'\r\nexport const GET_POKEMONS_SUCCESS = 'GET_POKEMONS_SUCCESS'\r\nexport const GET_POKEMONS_FAILURE = 'GET_POKEMONS_FAILURE'\r\n\r\nexport const getPokemons = (options = {}) => dispatch => {\r\n  const { limit = 784 } = options\r\n\r\n  return dispatch({\r\n    [RSAA]: {\r\n      endpoint: `https://pokeapi.co/api/v2/pokemon/?limit=${limit}`,\r\n      method: 'GET',\r\n      types: [\r\n        'GET_POKEMONS_REQUEST',\r\n        'GET_POKEMONS_SUCCESS',\r\n        'GET_POKEMONS_FAILURE'\r\n      ]\r\n    }\r\n  })\r\n}\r\n","import {\r\n  GET_POKEMONS_REQUEST,\r\n  GET_POKEMONS_SUCCESS,\r\n  GET_POKEMONS_FAILURE\r\n} from '../actions/pokemons'\r\n\r\nconst initialState = {\r\n  collection: {},\r\n  isFetched: false\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POKEMONS_REQUEST:\r\n      return {\r\n        ...state,\r\n        isFetched: true\r\n      }\r\n\r\n    case GET_POKEMONS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        collection: {\r\n          ...state.collection,\r\n          ...action.payload.results.reduce((accumulator, item) => {\r\n            const { url } = item\r\n            const id = url.substring(34, url.length - 1)\r\n\r\n            return {\r\n              ...accumulator,\r\n              [id]: {\r\n                id,\r\n                ...item\r\n              }\r\n            }\r\n          }, {})\r\n        },\r\n        isFetched: false\r\n      }\r\n\r\n    case GET_POKEMONS_FAILURE:\r\n      return {\r\n        ...state,\r\n        isFetched: false\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport pokemons from './pokemons'\r\n\r\nexport default combineReducers({\r\n  pokemons\r\n})\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport Page from './ui/page/cnt-page'\r\nimport configureStore from './store/configure-store'\r\n\r\nimport './style/main.css'\r\n\r\nconst store = configureStore()\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <Page />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { apiMiddleware } from 'redux-api-middleware'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from '../reducers'\r\n\r\nexport default function configureStore(initialState = {}) {\r\n  const middlewares = [thunkMiddleware, apiMiddleware]\r\n\r\n  let composeEnhancers = compose\r\n\r\n  if (process.env.NODE_ENV === 'development') {\r\n    if ('__REDUX_DEVTOOLS_EXTENSION_COMPOSE__' in window) {\r\n      composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    }\r\n\r\n    const loggerMiddleware = createLogger()\r\n    middlewares.push(loggerMiddleware)\r\n  }\r\n\r\n  return createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeEnhancers(applyMiddleware(...middlewares))\r\n  )\r\n}\r\n"],"sourceRoot":""}